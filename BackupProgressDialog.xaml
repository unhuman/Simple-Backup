<Window x:Class="Simple_Backup.BackupProgressDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Simple_Backup"
        mc:Ignorable="d"
        Title="Backup Progress" Height="450" Width="650"
        Background="{DynamicResource BackgroundBrush}"
        Foreground="{DynamicResource TextBrush}"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Closing="Window_Closing">
    <Window.Resources>
     <!-- Disabled Button Style -->
        <Style x:Key="DialogButtonStyle" TargetType="Button">
<Setter Property="Background" Value="{DynamicResource PrimaryBrush}"/>
            <Setter Property="Foreground" Value="White"/>
          <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
     <Setter Property="Cursor" Value="Hand"/>
  <Setter Property="Template">
                <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Border Background="{TemplateBinding Background}" 
    CornerRadius="4"
       Padding="{TemplateBinding Padding}">
<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
     </Border>
  <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
      <Setter Property="Background" Value="{DynamicResource PrimaryDarkBrush}"/>
       </Trigger>
 <Trigger Property="IsEnabled" Value="False">
        <Setter Property="Background" Value="#666666"/>
              <Setter Property="Foreground" Value="#999999"/>
<Setter Property="Cursor" Value="Arrow"/>
              </Trigger>
           </ControlTemplate.Triggers>
          </ControlTemplate>
      </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid Margin="20">
  <DockPanel VerticalAlignment="Stretch">
<!-- Title -->
          <TextBlock DockPanel.Dock="Top" Text="Backup in Progress" FontSize="18" FontWeight="Bold" 
    Foreground="{DynamicResource TextBrush}" Margin="0,0,0,20"/>
   
      <!-- Research Phase Section -->
            <StackPanel DockPanel.Dock="Top" Margin="0,0,0,20">
       <Label Content="Phase 1: Researching Files..." Margin="0,0,0,8" FontWeight="SemiBold"/>
 <ProgressBar x:Name="ResearchProgressBar" Height="20" Margin="0,0,0,8"/>
        <TextBlock x:Name="ResearchStatusText" Text="Scanning for files..." Foreground="{DynamicResource TextBrush}" Margin="0,0,0,8"/>
 <TextBlock x:Name="ResearchCountText" Text="Files found: 0" Foreground="{DynamicResource TextBrush}"/>
  </StackPanel>
       
        <!-- Copy Phase Section -->
         <StackPanel DockPanel.Dock="Top" Margin="0,0,0,20">
    <Label Content="Phase 2: Copying Files..." Margin="0,0,0,8" FontWeight="SemiBold" Opacity="0.5"/>
 <ProgressBar x:Name="CopyProgressBar" Height="20" Margin="0,0,0,8" Opacity="0.5"/>
          <TextBlock x:Name="CopyStatusText" Text="Waiting for research phase to complete..." Foreground="{DynamicResource TextBrush}" Margin="0,0,0,8" Opacity="0.5"/>
        <TextBlock x:Name="CopyCountText" Text="Files copied: 0 / 0" Foreground="{DynamicResource TextBrush}" Opacity="0.5"/>
       </StackPanel>
    
            <!-- Overall Status -->
       <TextBlock DockPanel.Dock="Top" x:Name="OverallStatusText" Text="Status: Starting research phase..." Foreground="{DynamicResource TextBrush}" 
     Margin="0,0,0,10" FontStyle="Italic"/>
      
  <!-- Buttons -->
<StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
       <Button x:Name="CancelButton" Content="Cancel" Width="100" Click="CancelButton_Click" Margin="0,0,10,0" Style="{StaticResource DialogButtonStyle}"/>
   <Button x:Name="CloseButton" Content="Close" Width="100" Click="CloseButton_Click" IsEnabled="False" Style="{StaticResource DialogButtonStyle}"/>
   </StackPanel>
        </DockPanel>
    </Grid>
</Window>
